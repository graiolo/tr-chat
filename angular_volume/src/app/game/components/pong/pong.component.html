<app-navbar></app-navbar>

<svg *ngIf="opponentConnected; else findingOpponent" class="game" width="80%" height="80%">
	<rect width="100%" height="100%" />
	<line id="net" x1="50%" y1="0px" x2="50%" y2="100%" />
	<text x="18%" y="48">{{game.score0 | number:"2.0-0"}}</text>
	<text x="68%" y="48">{{game.score1 | number:"2.0-0"}}</text>
	<rect class="racket" [attr.width]="game.player.width + '%'" [attr.height]="game.player.height + '%'" [attr.x]="game.p0X + '%'" [attr.y]="game.p0Y + '%'" />
	<rect class="racket" [attr.width]="game.opponent.width + '%'" [attr.height]="game.opponent.height+ '%'" [attr.x]="game.p1X + '%'" [attr.y]="game.p1Y + '%'" />
	<rect id="ball" [attr.width]="game.ball.width + '%'" [attr.height]="game.ball.height + '%'" [attr.x]="game.ballX + '%'" [attr.y]="game.ballY + '%'" />
</svg>

<ng-template #findingOpponent>
	<div class="container">
		<div class="box">
			<div class="player-box">			
				<app-profile-image
				*ngIf="user"
				[user]="user"
				[currentUser]="false"
				></app-profile-image>
				<div class="matchbox" *ngIf="user">
					<div style="text-align: center;" class="win">WIN</div>
					<div style="grid-row: 2/2; text-align: center; color: green;" class="winRes">
					  {{ user.Wins }}
					</div>
					<div style="grid-column: 2/2;text-align: center;" class="lose">LOSE</div>
					<div style="grid-column: 2/2; grid-row: 2/2;text-align: center; color: red;" class="loseRes">
					  {{ user.Losses }}
					</div>
				</div>
			</div>
			<div class="opponent-box" >
				<H1>Looking for opponent...</H1>
				<div class="loader"></div>

			</div>
		</div>
	</div>

</ng-template>